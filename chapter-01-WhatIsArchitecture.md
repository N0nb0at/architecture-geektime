# 架构到底是指什么？

## 系统与子系统

维基百科定义的『系统』：

> 系统泛指由一群有关联的个体组成，根据某种规则运作，能完成个别元件不能单独完成的工作的群体。它的意思是『总体』、『整体』或『联盟』。

- **关联**：系统是由一群有关联的个体组成的，没有关联的个体堆在一起不能成为一个系统。例如，把一个发动机和一台 PC 放在一起不能称之为一个系统，把发动机、底盘、轮胎、车架组合起来才能成为一台汽车；
- **规则**：系统内的个体需要按照指定的规则运作，而不是单个个体各自为政。规则规定了系统内个体分工和写作的方式。例如，汽车发动机负责生产动力，然后通过变速器和转动轴，将动力输出到车轮上，从而驱动汽车前进。
- **能力**：系统能力与个体能力有本质的差别，系统能力不是个体能力之和，而是产生了新的能力。例如，汽车能够载重前进，而发动机、变速器、传动轴、车轮本身都不具备这样的能力。

> 子系统也是由一群有关联的个体所组成的系统，多半会是更大系统中的一部分。

子系统的定义和系统定义是一样的，只是观察的角度有差异，一个系统可能是另外一个更大系统的子系统。

## 模块与组件

> 软件模块（Module）是一套一直而相互有紧密关联的软件组织。它分别包含了程序和数据结构两部分。现代软件开发往往利用模块作为合成的单位。模块的接口表达了有该模块提供的功能和调用它时所需的元素。模块是可能分开被编写的单位。这使它们可再用和允许人员同时协作、编写及研究不同的模块。

> 软件组件定义为自包含的、可编程的、可重用的、语言无关的软件单元，软件组件可以很容易被用于组装应用程序中。

模块和组件都是系统的组成部分，只是从不同的角度拆分系统而已。

划分模块的主要目的是职责分离；划分组件的主要目的是单元复用。

## 框架与架构

> 软件框架（Software framework）通常指的是为了实现某个业界标准或者完成特定基本任务的软件组件规范，也指为了实现某个软件组件规范时，提供规范所要求之基础功能的软件产品。

- 框架是组件规范：例如，MVC 就是一种最常见的开发规范，类似的还有 MVP、MVVM、J2EE 等框架。
- 框架提供基础功能的产品：例如，Spring MVC 是 MVC 的开发框架，除了满足 MVC 的规范，Spring 提供了很多基础功能来帮我们实现功能，包括注解（@Controller 等）、Spring Security、Spring JPA 等很多基础功能。

> 软件架构指软件系统的『基础结构』，创造这些基础结构的准则，以及对这些结构的描述。

框架关注的是『规范』，架构关注的是『结构』。

## 重新定义架构

软件架构指软件系统的顶层结构。

这个定义看似很简单，但包含的信息很丰富，基本上把系统、子系统、模块、组件、架构等概念都穿起来了：

- 首先，『系统是一群关联个体组成』，这些『个体』可以是『子系统』、『模块』、『组件』等；架构需要明确系统包含哪些『个体』；
- 其次，系统中的个体需要『根据某种规则』运作，架构需要明确个体运作和协作的规则；
- 最后，维基百科定义的框架用到了『基础结构』这个说法，改为『顶层结构』可以更好地区分系统和子系统，避免将系统架构和子系统架构混淆在一起导致架构层次混乱。


